# Depot Butler Environment Variables Template
# Copy this file to .env and fill in your actual values
# The .env file is in .gitignore and will NOT be committed to git

# =============================================================================
# IMPORTANT: Some settings are now stored in MongoDB for easier management
# =============================================================================
# MongoDB-stored settings (configurable without redeployment):
#   - LOG_LEVEL (INFO, DEBUG, WARNING, ERROR)
#   - cookie_warning_days (days before expiration to warn)
#   - admin_emails (list of admin email addresses)
#   - onedrive_organize_by_year (organize files by year)
#   - tracking_enabled (enable/disable edition tracking)
#   - tracking_retention_days (days to keep tracking records)
#   - smtp_server (SMTP server hostname)
#   - smtp_port (SMTP server port)
#
# Note: OneDrive folder paths are configured per publication in MongoDB
# (publications.default_onedrive_folder) and can be overridden per recipient
# (publication_preferences.custom_onedrive_folder)
#
# Run: $env:PYTHONPATH="src" ; uv run python scripts/init_app_config.py
# to initialize these in MongoDB with defaults from this .env file.
#
# To change MongoDB settings after initialization:
#   1. Use MongoDB Compass or mongosh
#   2. Edit the 'app_config' document in the 'config' collection
#   3. Changes take effect on next workflow run (no redeployment needed!)
# =============================================================================

# Börsenmedien Credentials
# Your login credentials for konto.boersenmedien.com
BOERSENMEDIEN_USERNAME=your.email@example.com
BOERSENMEDIEN_PASSWORD=your_password_here

# Börsenmedien API Configuration
# Base URL for the Börsenmedien platform
BOERSENMEDIEN_BASE_URL=https://konto.boersenmedien.com
# Login endpoint URL
BOERSENMEDIEN_LOGIN_URL=https://login.boersenmedien.com

# OneDrive Configuration
# Azure AD App credentials for OneDrive integration
# Run setup_onedrive_auth.py to generate ONEDRIVE_REFRESH_TOKEN
# See ONEDRIVE_SETUP.md for detailed setup instructions
ONEDRIVE_CLIENT_ID=your_client_id_here
ONEDRIVE_CLIENT_SECRET=your_client_secret_here
ONEDRIVE_REFRESH_TOKEN=your_refresh_token_here

# OneDrive Upload Settings
# NOTE: These settings are now stored in MongoDB (see header above)
# The values below are used as defaults during initialization only
# Note: Folder paths are now configured per publication in MongoDB
# (publications.default_onedrive_folder) and can be overridden per recipient
# (publication_preferences.custom_onedrive_folder)
# Whether to organize files by year (creates YYYY subfolder)
ONEDRIVE_ORGANIZE_BY_YEAR=true
# Whether to overwrite existing files with same name
ONEDRIVE_OVERWRITE_FILES=true

# SMTP Email Configuration
# NOTE: smtp_server and smtp_port are now stored in MongoDB (see header above)
# The values below are used as defaults during initialization only
# SMTP server settings for sending emails
SMTP_SERVER=smtp.gmx.net
SMTP_PORT=587
SMTP_USERNAME=your.email@example.com
SMTP_PASSWORD=your_app_password_here
# Admin email for error notifications (single address)
# NOTE: You can configure multiple admin emails in MongoDB after running init_app_config.py
SMTP_ADMIN_ADDRESS=admin@example.com

# Log Level (Optional - can also be set in MongoDB for dynamic changes)
# Uncomment to override: DEBUG, INFO (default), WARNING, ERROR
# LOG_LEVEL=INFO

# Edition Tracking Settings (prevents duplicate processing)
# NOTE: These settings are now stored in MongoDB (see header above)
# The values below are used as defaults during initialization only
TRACKING_ENABLED=true
TRACKING_RETENTION_DAYS=90
TRACKING_TEMP_DIR=./data/tmp

# MongoDB Atlas Configuration
# Database name for your depot-butler data
DB_NAME=depotbutler
# MongoDB admin username
DB_ROOT_USERNAME=admin
# MongoDB admin password (use your actual password)
DB_ROOT_PASSWORD=YOUR_PASSWORD_HERE
# MongoDB Atlas cluster URI (without mongodb+srv:// prefix)
DB_URI=YOUR_CLUSTER.mongodb.net/?retryWrites=true&w=majority
# Full MongoDB connection string (get from MongoDB Atlas dashboard)
# URL-encode special characters in password (e.g., # becomes %23)
DB_CONNECTION_STRING=YOUR_MONGODB_CONNECTION_STRING_HERE

# Azure Key Vault Configuration (Optional)
# URL of your Azure Key Vault for secrets management
# AZURE_KEY_VAULT_URL=https://your-keyvault-name.vault.azure.net/

# Application Settings
LOG_LEVEL=INFO

# Publication Discovery Settings
# Enable/disable automatic publication discovery and synchronization
# When enabled, the workflow will sync publication metadata from your account to MongoDB
# NOTE: On Azure Container Apps, add this as an environment variable in deployment
# If not set on Azure, defaults to true (discovery always enabled)
DISCOVERY_ENABLED=true
