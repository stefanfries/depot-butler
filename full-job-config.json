{
  "id": "/subscriptions/09be642b-9a2d-493f-9bb6-0516174d4946/resourceGroups/rg-FastAPI-AzureContainerApp-dev/providers/Microsoft.App/jobs/depot-butler-job",
  "identity": {
    "principalId": "285ae868-f993-4b7e-b541-44e86105afd1",
    "tenantId": "f28a3aed-2663-4e8d-84a6-c95dc21f566c",
    "type": "SystemAssigned"
  },
  "location": "Germany West Central",
  "name": "depot-butler-job",
  "properties": {
    "configuration": {
      "dapr": null,
      "eventTriggerConfig": null,
      "identitySettings": [],
      "manualTriggerConfig": null,
      "registries": null,
      "replicaRetryLimit": 1,
      "replicaTimeout": 1800,
      "scheduleTriggerConfig": {
        "cronExpression": "0 15 * * 1-5",
        "parallelism": 1,
        "replicaCompletionCount": 1
      },
      "secrets": [
        {
          "name": "boersenmedien-username"
        },
        {
          "name": "onedrive-refresh-token"
        },
        {
          "name": "db-root-username"
        },
        {
          "name": "smtp-username"
        },
        {
          "name": "db-root-password"
        },
        {
          "name": "smtp-admin-address"
        },
        {
          "name": "boersenmedien-password"
        },
        {
          "name": "db-connection-string"
        },
        {
          "name": "onedrive-client-id"
        },
        {
          "name": "onedrive-client-secret"
        },
        {
          "name": "smtp-password"
        }
      ],
      "triggerType": "Schedule"
    },
    "environmentId": "/subscriptions/09be642b-9a2d-493f-9bb6-0516174d4946/resourceGroups/rg-FastAPI-AzureContainerApp-dev/providers/Microsoft.App/managedEnvironments/managedEnvironment-rgFastAPIAzureC-a4a6",
    "eventStreamEndpoint": "https://germanywestcentral.azurecontainerapps.dev/subscriptions/09be642b-9a2d-493f-9bb6-0516174d4946/resourceGroups/rg-FastAPI-AzureContainerApp-dev/containerApps/depot-butler-job/eventstream",
    "provisioningState": "Succeeded",
    "runningStatus": "Ready",
    "template": {
      "containers": [
        {
          "env": [
            {
              "name": "BOERSENMEDIEN_BASE_URL",
              "value": "https://konto.boersenmedien.com"
            },
            {
              "name": "BOERSENMEDIEN_LOGIN_URL",
              "value": "https://login.boersenmedien.com"
            },
            {
              "name": "BOERSENMEDIEN_USERNAME",
              "secretRef": "boersenmedien-username"
            },
            {
              "name": "BOERSENMEDIEN_PASSWORD",
              "secretRef": "boersenmedien-password"
            },
            {
              "name": "ONEDRIVE_CLIENT_ID",
              "secretRef": "onedrive-client-id"
            },
            {
              "name": "ONEDRIVE_CLIENT_SECRET",
              "secretRef": "onedrive-client-secret"
            },
            {
              "name": "ONEDRIVE_REFRESH_TOKEN",
              "secretRef": "onedrive-refresh-token"
            },
            {
              "name": "ONEDRIVE_BASE_FOLDER_PATH",
              "value": "Dokumente/Banken/DerAktionaer/Strategie_800-Prozent"
            },
            {
              "name": "ONEDRIVE_ORGANIZE_BY_YEAR",
              "value": "true"
            },
            {
              "name": "ONEDRIVE_OVERWRITE_FILES",
              "value": "true"
            },
            {
              "name": "SMTP_SERVER",
              "value": "smtp.gmx.net"
            },
            {
              "name": "SMTP_PORT",
              "value": "587"
            },
            {
              "name": "SMTP_USERNAME",
              "secretRef": "smtp-username"
            },
            {
              "name": "SMTP_PASSWORD",
              "secretRef": "smtp-password"
            },
            {
              "name": "SMTP_ADMIN_ADDRESS",
              "secretRef": "smtp-admin-address"
            },
            {
              "name": "TRACKING_ENABLED",
              "value": "true"
            },
            {
              "name": "TRACKING_FILE_PATH",
              "value": "/mnt/data/processed_editions.json"
            },
            {
              "name": "TRACKING_RETENTION_DAYS",
              "value": "90"
            },
            {
              "name": "AZURE_KEY_VAULT_URL",
              "value": "https://kv-depot-butler-prod.vault.azure.net/"
            },
            {
              "name": "DB_NAME",
              "value": "depotbutler"
            },
            {
              "name": "DB_ROOT_USERNAME",
              "secretRef": "db-root-username"
            },
            {
              "name": "DB_ROOT_PASSWORD",
              "secretRef": "db-root-password"
            },
            {
              "name": "DB_CONNECTION_STRING",
              "secretRef": "db-connection-string"
            }
          ],
          "image": "ghcr.io/stefanfries/depot-butler:latest",
          "imageType": "ContainerImage",
          "name": "depot-butler-job",
          "resources": {
            "cpu": 1.0,
            "memory": "2Gi"
          }
        }
      ],
      "initContainers": null,
      "volumes": null
    },
    "workloadProfileName": "Consumption"
  },
  "resourceGroup": "rg-FastAPI-AzureContainerApp-dev",
  "systemData": {
    "createdAt": "2025-11-08T22:24:42.0160749",
    "createdBy": "stefan.fries.burgdorf@gmx.de",
    "createdByType": "User",
    "lastModifiedAt": "2025-11-25T22:59:39.3410441",
    "lastModifiedBy": "stefan.fries.burgdorf@gmx.de",
    "lastModifiedByType": "User"
  },
  "type": "Microsoft.App/jobs"
}
